<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arabic Language Compression Ratio Visualization</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React and ReactDOM -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    
    <!-- Recharts -->
    <script src="https://unpkg.com/recharts@2.6.2/umd/Recharts.min.js" crossorigin></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body class="bg-gray-100 p-4">
    <div id="root" class="max-w-6xl mx-auto"></div>

    <script type="text/babel">
        // Destructure required components from Recharts
        const {
            BarChart, Bar, XAxis, YAxis, CartesianGrid, 
            Tooltip, Legend, ResponsiveContainer, RadarChart, 
            PolarGrid, PolarAngleAxis, PolarRadiusAxis, Radar
        } = Recharts;
        
        const ArabicCompressionVisualization = () => {
            const [activeTab, setActiveTab] = React.useState('ratios');
            const [selectedLanguage, setSelectedLanguage] = React.useState(null);
            const [showExplanation, setShowExplanation] = React.useState(false);

            const compressionRatios = [
                { language: 'English', ratio: 359, color: '#8884d8' },
                { language: 'French', ratio: 328, color: '#82ca9d' },
                { language: 'German', ratio: 271, color: '#ffc658' },
                { language: 'Russian', ratio: 224, color: '#ff8042' },
                { language: 'Mandarin', ratio: 194, color: '#a4de6c' },
                { language: 'Japanese', ratio: 238, color: '#d0ed57' },
                { language: 'Hebrew', ratio: 6.4, color: '#83a6ed' }
            ];

            const factorsData = [
                { name: 'Root-Pattern', Arabic: 10, English: 1, French: 1, Russian: 1, Mandarin: 1, Hebrew: 9 },
                { name: 'Inflection', Arabic: 10, English: 4, French: 5, Russian: 7, Mandarin: 2, Hebrew: 8 },
                { name: 'Diacritics', Arabic: 10, English: 0, French: 1, Russian: 0, Mandarin: 0, Hebrew: 7 },
                { name: 'Word Formation', Arabic: 10, English: 3, French: 3, Russian: 5, Mandarin: 4, Hebrew: 8 }
            ];

            const examples = [
                {
                    arabic: 'سأكتبهالهم',
                    translation: 'I will write it for them',
                    explanation: 'This single Arabic word combines the future tense marker (س), the verb "to write" (أكتب), the direct object pronoun "it" (ها), and the indirect object pronoun "to them" (لهم).'
                },
                {
                    arabic: 'فأسقيناكموه',
                    translation: 'And We gave it to you to drink',
                    explanation: 'This single word contains the conjunction "and" (ف), the verb "to give drink" (أسقى) in the first person plural past tense, the object pronoun "you all" (كم), and the pronoun "it" (ه).'
                },
                {
                    arabic: 'أنلزمكموها',
                    translation: 'Shall we compel you to accept it',
                    explanation: 'This word combines the interrogative particle (أ), the verb "to compel" (نلزم) in the first person plural, the object "you all" (كم), and the feminine object pronoun "it" (ها).'
                }
            ];

            const handleLanguageClick = (language) => {
                setSelectedLanguage(language === selectedLanguage ? null : language);
            };

            const renderComparisonTab = () => (
                <div className="p-4">
                    <h2 className="text-xl font-bold mb-4">Arabic Compression Ratio Compared to Other Languages</h2>
                    <div className="h-96">
                        <ResponsiveContainer width="100%" height="100%">
                            <BarChart
                                data={compressionRatios}
                                margin={{ top: 20, right: 30, left: 20, bottom: 5 }}
                            >
                                <CartesianGrid strokeDasharray="3 3" />
                                <XAxis dataKey="language" />
                                <YAxis label={{ value: 'Compression Ratio (X:1)', angle: -90, position: 'insideLeft' }} />
                                <Tooltip formatter={(value) => [`${value}:1`, 'Compression Ratio']} />
                                <Legend />
                                <Bar dataKey="ratio" name="Compression Ratio" fill="#8884d8" />
                            </BarChart>
                        </ResponsiveContainer>
                    </div>
                    <div className="mt-4 p-4 bg-gray-100 rounded">
                        <p>The chart displays how many units of information in other languages are required to express the same content as 1 unit in Arabic. For example, English requires approximately 359 units to express what Arabic can convey in just 1 unit.</p>
                    </div>
                </div>
            );

            const renderFactorsTab = () => (
                <div className="p-4">
                    <h2 className="text-xl font-bold mb-4">Factors Contributing to Arabic Compression</h2>
                    <div className="flex mb-4 flex-wrap">
                        {['Arabic', 'English', 'French', 'Russian', 'Mandarin', 'Hebrew'].map(language => (
                            <button
                                key={language}
                                className={`px-3 py-1 mr-2 mb-2 rounded ${selectedLanguage === language ? 'bg-blue-500 text-white' : 'bg-gray-200'}`}
                                onClick={() => handleLanguageClick(language)}
                            >
                                {language}
                            </button>
                        ))}
                    </div>
                    <div className="h-96">
                        <ResponsiveContainer width="100%" height="100%">
                            <RadarChart outerRadius={150} data={factorsData}>
                                <PolarGrid />
                                <PolarAngleAxis dataKey="name" />
                                <PolarRadiusAxis angle={30} domain={[0, 10]} />
                                <Radar
                                    name="Arabic"
                                    dataKey="Arabic"
                                    stroke="#8884d8"
                                    fill="#8884d8"
                                    fillOpacity={0.6}
                                />
                                {selectedLanguage && selectedLanguage !== 'Arabic' && (
                                    <Radar
                                        name={selectedLanguage}
                                        dataKey={selectedLanguage}
                                        stroke="#82ca9d"
                                        fill="#82ca9d"
                                        fillOpacity={0.6}
                                    />
                                )}
                                <Legend />
                                <Tooltip />
                            </RadarChart>
                        </ResponsiveContainer>
                    </div>
                    <div className="mt-4 p-4 bg-gray-100 rounded">
                        <h3 className="font-bold mb-2">Compression Factors:</h3>
                        <ul className="list-disc pl-5">
                            <li><strong>Root-Pattern:</strong> Arabic's trilateral root system allows extensive word derivation from minimal roots</li>
                            <li><strong>Inflection:</strong> Grammatical features embedded within a single word</li>
                            <li><strong>Diacritics:</strong> Vowel markers that add meaning without additional characters</li>
                            <li><strong>Word Formation:</strong> Ability to form complex meanings in single words</li>
                        </ul>
                        <p className="mt-2">Click on a language button to compare its efficiency factors with Arabic.</p>
                    </div>
                </div>
            );

            const renderExamplesTab = () => (
                <div className="p-4">
                    <h2 className="text-xl font-bold mb-4">Examples of Arabic Compression</h2>
                    <div className="grid gap-4">
                        {examples.map((example, index) => (
                            <div key={index} className="border rounded p-4 bg-white shadow-sm">
                                <div className="flex flex-wrap justify-between items-center">
                                    <h3 className="text-xl font-bold text-right" dir="rtl">{example.arabic}</h3>
                                    <div className="text-lg">{example.translation}</div>
                                </div>
                                <button
                                    className="mt-2 text-blue-500 hover:underline"
                                    onClick={() => setShowExplanation(showExplanation === index ? null : index)}
                                >
                                    {showExplanation === index ? 'Hide explanation' : 'Show explanation'}
                                </button>
                                {showExplanation === index && (
                                    <div className="mt-2 p-3 bg-gray-100 rounded">
                                        {example.explanation}
                                    </div>
                                )}
                            </div>
                        ))}
                    </div>
                </div>
            );

            const renderEfficiencyLayers = () => (
                <div className="p-4">
                    <h2 className="text-xl font-bold mb-4">Layers of Arabic Language Efficiency</h2>
                    <div className="relative h-96 border rounded bg-gray-50">
                        <div className="absolute inset-0 flex items-center justify-center">
                            <div className="w-4/5 h-4/5 rounded-full bg-blue-100 flex items-center justify-center">
                                <div className="w-3/4 h-3/4 rounded-full bg-blue-200 flex items-center justify-center">
                                    <div className="w-3/4 h-3/4 rounded-full bg-blue-300 flex items-center justify-center">
                                        <div className="w-3/4 h-3/4 rounded-full bg-blue-400 flex items-center justify-center">
                                            <div className="w-3/4 h-3/4 rounded-full bg-blue-500 flex items-center justify-center text-white font-bold">
                                                Root
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div className="absolute top-20 right-24 bg-white p-2 rounded shadow">Pattern Application</div>
                        <div className="absolute top-1/3 left-24 bg-white p-2 rounded shadow">Inflection</div>
                        <div className="absolute bottom-1/3 right-24 bg-white p-2 rounded shadow">Diacritics</div>
                        <div className="absolute bottom-20 left-1/4 bg-white p-2 rounded shadow">Semantic Gender</div>
                        <div className="absolute top-1/2 right-1/4 bg-white p-2 rounded shadow">Syntactic Features</div>
                    </div>
                    <div className="mt-4 p-4 bg-gray-100 rounded">
                        <p>Arabic achieves its remarkable compression through multiple layers of meaning encoding. Starting from a simple root (typically 3 consonants), each additional layer adds more semantic and grammatical information without requiring additional words.</p>
                    </div>
                </div>
            );

            return (
                <div className="max-w-6xl mx-auto bg-white rounded-lg shadow p-4">
                    <h1 className="text-2xl font-bold mb-6 text-center">Arabic Language Compression Efficiency</h1>
                    
                    <div className="flex border-b mb-4 flex-wrap">
                        <button
                            className={`px-4 py-2 ${activeTab === 'ratios' ? 'border-b-2 border-blue-500 font-bold' : ''}`}
                            onClick={() => setActiveTab('ratios')}
                        >
                            Compression Ratios
                        </button>
                        <button
                            className={`px-4 py-2 ${activeTab === 'factors' ? 'border-b-2 border-blue-500 font-bold' : ''}`}
                            onClick={() => setActiveTab('factors')}
                        >
                            Efficiency Factors
                        </button>
                        <button
                            className={`px-4 py-2 ${activeTab === 'examples' ? 'border-b-2 border-blue-500 font-bold' : ''}`}
                            onClick={() => setActiveTab('examples')}
                        >
                            Word Examples
                        </button>
                        <button
                            className={`px-4 py-2 ${activeTab === 'layers' ? 'border-b-2 border-blue-500 font-bold' : ''}`}
                            onClick={() => setActiveTab('layers')}
                        >
                            Efficiency Layers
                        </button>
                    </div>
                    
                    {activeTab === 'ratios' && renderComparisonTab()}
                    {activeTab === 'factors' && renderFactorsTab()}
                    {activeTab === 'examples' && renderExamplesTab()}
                    {activeTab === 'layers' && renderEfficiencyLayers()}
                    
                    <div className="mt-6 text-sm text-gray-600 border-t pt-4">
                        <p>This visualization is based on a mathematical derivation of language compression ratios, analyzing morphological efficiency, inflectional density, and information encoding across language families.</p>
                    </div>
                </div>
            );
        };

        // Render the app
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<ArabicCompressionVisualization />);
    </script>
</body>
</html>